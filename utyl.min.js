/*github.com/muit*/String.prototype.startsWith=function(e){return this.slice(0,e.length)==e};String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1};String.prototype.contains=function(e){return this.indexOf(e)!=-1};Object.prototype.keys=function(){var e=[],t;for(t in this)if(Object.prototype.hasOwnProperty.call(this,t))e.push(t);return e};Object.prototype.key=function(e){var t=[],n;for(n in this)if(this[n]==e)t.push(n);return t};Array.prototype.first=function(){return this[0]};Array.prototype.last=function(){return this[this.length-1]};Array.prototype.remove=function(e){var t=this.indexOf(e);return t>=0?this.splice(t,1)[0]:undefined};Array.prototype.removeByIndex=function(e){return e>=0?this.splice(e,1)[0]:undefined};Trigger=function(){};Trigger.prototype.get=function(){return!this.s?this.s=true:false};Trigger.prototype.reset=function(){this.s=undefined};Vector2=function(e,t){this.x=e;this.y=t};Vector2.prototype.x=null;Vector2.prototype.y=null;Vector2.prototype.distance=function(e){return Vector2.distance(this,e)};Vector2.distance=function(e,t){return Math.sqrt(Math.pow(e.x+t.x,2)+Math.pow(e.y+t.y,2))};Vector2.dot=function(e,t){return e.x*t.x+e.y*t.y};EventMap=function(){};EventMap.prototype.events=[];EventMap.prototype.callbacks=[];EventMap.prototype.createEvent=function(e,t){var n=this;var r=setTimeout(function(){n.removeEvent(r);e()},t);this.events.push(r);this.callbacks.push(e);return this.events.length-1};EventMap.prototype.restartEvent=function(e,t){var n=this.events.indexOf(e);if(n>=0){clearTimeout(this.events[n]);var r=this;this.events[n]=setTimeout(function(){r.removeEvent(guid);r.callbacks[n]()},t)}};EventMap.prototype.removeEvent=function(e){var t=this.events.indexOf(e);if(t>=0)clearTimeout(this.events[t]);this.events.removeByIndex(t);this.callbacks.removeByIndex(t)};EventMap.prototype.removeAllEvents=function(){this.events.forEach(function(e,t,n){clearTimeout(e)});this.events=[];this.callbacks=[]};_=function(e){if(e instanceof Reference)return e.value;return new Reference(e)};Reference=function(e){this._=this.value=e};ifNotDefined=function(e){if(!e||e.length<=0)return undefined;e=e.split(".");var t=this;for(var n=0,r=e.length;n<r;n++){if(t[e[n]]==undefined)t[e[n]]=function(){};t=t[e[n]]}return t};Timer=function(e,t,n){function o(){if(n==undefined||i++<=n)e();var t=(new Date).getTime()-s-i*r;setTimeout(o,r-t)}var r=1e3/t,i=0,s=(new Date).getTime();setTimeout(o,r)};Function.prototype.inherits=function(e){if(typeof e=="function")this.prototype=new e;else this.prototype=e;this.prototype.constructor=this}